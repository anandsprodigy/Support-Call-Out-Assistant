<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Support Call-Out Assistant</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --primary:#0B2545;
  --secondary:#8DA9C4;
  --bg:#EEF4ED;
  --white:#fff;
}

*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  font-family:'Montserrat',system-ui,sans-serif;
  color:var(--primary);
}

.app{max-width:1200px;margin:auto;padding:16px}
h1{font-size:22px;margin-bottom:16px}

label{font-size:13px;font-weight:600;margin-top:14px;display:block}
input,select,textarea{
  width:100%;
  padding:12px;
  font-size:14px;
  border-radius:10px;
  border:1px solid var(--secondary);
  font-family:inherit;
  margin-top:6px;
}

.panel{
  background:var(--white);
  border-radius:14px;
  padding:14px;
  margin-top:16px;
  box-shadow:0 2px 6px rgba(0,0,0,.05);
}

.actions{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-top:16px;
}

button{
  padding:14px;
  font-weight:700;
  border-radius:12px;
  border:none;
  cursor:pointer;
  font-family:inherit;
}

.primary{background:var(--primary);color:#fff;grid-column:1/-1}
.secondary{background:var(--secondary);color:var(--primary)}

.layout{display:block}
.sidebar{margin-top:16px}

.transcript-line{font-size:13px;margin-bottom:6px}
.key{font-weight:700}
.mono{font-family:ui-monospace,monospace;font-size:12px}

.note-item{
  background:var(--bg);
  padding:10px;
  border-radius:10px;
  margin-bottom:8px;
}
.note-time{font-size:11px;font-weight:600}

@media(min-width:1024px){
  .layout{
    display:grid;
    grid-template-columns:2.5fr 1fr;
    gap:20px;
    align-items:start;
  }
  .sidebar{position:sticky;top:16px}
}
</style>
</head>

<body>
<div class="app">
<h1>Support Call-Out Assistant</h1>

<div class="layout">

<!-- MAIN -->
<div class="main">

<label>Customer Name</label>
<input id="name" placeholder="e.g. ABC">

<label>Email Address</label>
<input id="email" placeholder="e.g. abc@gmail.com">

<label>Phone Number</label>
<input id="phone" placeholder="e.g. 888888">

<div class="panel">
<h2>Voice & Delivery</h2>

<label>Accent / Voice</label>
<select id="voiceSelect"></select>
<div id="voiceStatus" style="font-size:12px;color:#8DA9C4;margin-top:6px;">
Tap anywhere to load voices
</div>

<label>Pace</label>
<select id="rateSelect">
<option value="0.75">Slow</option>
<option value="0.9">Clear</option>
<option value="1" selected>Normal</option>
<option value="1.15">Fast</option>
</select>

<label>Pause Between Segments</label>
<select id="gapSelect">
<option value="0">None</option>
<option value="300">300 ms</option>
<option value="600" selected>600 ms</option>
<option value="1000">1 sec</option>
</select>
</div>

<div class="actions">
<button class="primary" onclick="startCallout()">Call Out Details</button>
<button class="secondary" onclick="pauseCallout()">Pause</button>
<button class="secondary" onclick="resumeCallout()">Resume</button>
<button class="secondary" onclick="stopCallout()">Stop</button>
<button class="secondary" onclick="repeatAll()">Repeat All</button>
<button class="secondary" onclick="toggleNotes()">üìù Toggle Notes</button>
</div>

<div class="panel" id="transcriptPanel" style="display:none">
<h2>Call-Out Transcript</h2>
<div class="transcript-line"><span class="key">Name:</span> <span class="mono" id="nameText"></span></div>
<div class="transcript-line"><span class="key">Email:</span> <span class="mono" id="emailText"></span></div>
<div class="transcript-line"><span class="key">Phone:</span> <span class="mono" id="phoneText"></span></div>
</div>

</div>

<!-- SIDEBAR -->
<div class="sidebar" id="notesSidebar">
<div class="panel">
<h2>Agent Notes</h2>

<textarea id="noteInput" rows="4" placeholder="Add a note and save‚Ä¶"></textarea>
<button class="secondary" style="margin-top:8px;width:100%" onclick="saveNote()">Save Note</button>

<hr style="margin:12px 0;border:none;border-top:1px solid var(--bg)">

<div id="notesList"></div>

<button class="secondary" style="margin-top:12px;width:100%" onclick="clearNotes()">Clear All Notes</button>
</div>
</div>

</div>
</div>

<script>
/* PHONETIC */
const NATO={A:"Alpha",B:"Bravo",C:"Charlie",D:"Delta",E:"Echo",F:"Foxtrot",G:"Golf",H:"Hotel",I:"India",J:"Juliet",K:"Kilo",L:"Lima",M:"Mike",N:"November",O:"Oscar",P:"Papa",Q:"Quebec",R:"Romeo",S:"Sierra",T:"Tango",U:"Uniform",V:"Victor",W:"Whiskey",X:"X-ray",Y:"Yankee",Z:"Zulu"};
const DIGITS={0:"Zero",1:"One",2:"Two",3:"Three",4:"Four",5:"Five",6:"Six",7:"Seven",8:"Eight",9:"Nine"};

const pw=v=>v.toUpperCase().split("").filter(c=>NATO[c]).map(c=>NATO[c]).join(" ‚Äì ");
const pe=v=>[...v.toUpperCase()].map(c=>NATO[c]||DIGITS[c]||{ "@":"at",".":"dot"}[c]).filter(Boolean).join(" ‚Äì ");
const pp=v=>v.split("").map(c=>DIGITS[c]).filter(Boolean).join(" ‚Äì ");

/* SPEECH */
let voices=[],voice=null,plan=[],i=0,run=false;
function speak(t){
const u=new SpeechSynthesisUtterance(t);
u.rate=rateSelect.value;
if(voice)u.voice=voice;
return u;
}
function next(){
if(!run||i>=plan.length){run=false;return;}
const u=speak(plan[i++]);
u.onend=()=>setTimeout(next,gapSelect.value);
speechSynthesis.speak(u);
}
function startCallout(){
speechSynthesis.cancel();plan=[];i=0;
const n=name.value.trim(),e=email.value.trim(),p=phone.value.trim();
if(n){plan.push("Customer name",pw(n));nameText.innerText=pw(n);}
if(e){plan.push("Email address",pe(e));emailText.innerText=pe(e);}
if(p){plan.push("Phone number",pp(p));phoneText.innerText=pp(p);}
transcriptPanel.style.display="block";
if(plan.length){run=true;next();}
}
const pauseCallout=()=>speechSynthesis.pause();
const resumeCallout=()=>speechSynthesis.resume();
const stopCallout=()=>{speechSynthesis.cancel();run=false;}
const repeatAll=()=>startCallout();

/* VOICES */
function loadVoices(){
voices=speechSynthesis.getVoices();
if(!voices.length)return;
voiceSelect.innerHTML="";
voices.forEach(v=>{
const o=document.createElement("option");
o.value=v.name;o.textContent=`${v.name} ‚Äî ${v.lang}`;
voiceSelect.appendChild(o);
});
voice=voices[0];
voiceStatus.innerText=`${voices.length} voices available`;
}
voiceSelect.onchange=()=>voice=voices.find(v=>v.name===voiceSelect.value);
speechSynthesis.onvoiceschanged=loadVoices;
document.body.addEventListener("click",loadVoices,{once:true});

/* NOTES */
const KEY="support_notes";
const noteInput=document.getElementById("noteInput");
const notesList=document.getElementById("notesList");

function render(){
const notes=JSON.parse(localStorage.getItem(KEY)||"[]");
notesList.innerHTML=notes.length?"":
"<div style='font-size:12px;color:#8DA9C4'>No notes yet</div>";
notes.forEach(n=>{
const d=document.createElement("div");
d.className="note-item";
d.innerHTML=`<div class="note-time">${n.time}</div><div>${n.text}</div>`;
notesList.appendChild(d);
});
}
function saveNote(){
if(!noteInput.value.trim())return;
const notes=JSON.parse(localStorage.getItem(KEY)||"[]");
notes.unshift({text:noteInput.value.trim(),time:new Date().toLocaleString()});
localStorage.setItem(KEY,JSON.stringify(notes));
noteInput.value="";render();
}
function clearNotes(){
if(confirm("Clear all notes?")){localStorage.removeItem(KEY);render();}
}
function toggleNotes(){
notesSidebar.style.display=notesSidebar.style.display==="none"?"block":"none";
}
render();
</script>
</body>
</html>
